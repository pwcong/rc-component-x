(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{60:function(e,t,a){},76:function(e){e.exports={name:"@rc-x/input",version:"0.0.1",description:"Input",author:"Pwcong <pwcong@foxmail.com>",main:"dist/bundle.min.js",module:"dist/bundle.es.js",keywords:["rc-x-input"],license:"MIT",dependencies:{"@rc-x/icon":"^0.0.1","@rc-x/style":"^0.0.1","@rc-x/utils":"^0.0.1"},devDependencies:{"@rc-x/test":"^0.0.1"},gitHead:"56ef5fc17a78c9aaaf5dfde8b6ed6b5fb779bd51"}},89:function(e,t,a){"use strict";a.r(t);var r=a(19),n=a(0),l=a.n(n),o=a(57),i=a(8),u=a(59),s=(a(60),Object(i.b)("input")),c=function(e){function t(t){var a=e.call(this,t)||this;return a.handleChange=function(e){var t=a.props.onChange,r=e.target.value;a.setState({value:r},function(){t&&t(r)})},a.handleClear=function(e){var t=a.props.onChange;a.setState({value:""},function(){t&&t("")})},a.renderInput=function(){var e,t=a.props,r=t.id,n=t.name,o=t.className,u=t.htmlType,c=t.size,d=t.disabled,f=t.forwardedRef,p=t.onPressEnter,h=a.state.value;return l.a.createElement("input",{id:r,name:n,ref:f,className:Object(i.a)(s,o,s+"-"+c,(e={},e[s+"-disabled"]=d,e)),type:u,value:h,onKeyPress:function(e){"Enter"===e.key&&p&&p(e)},onChange:a.handleChange})},a.renderAddon=function(e,t){var a=Object(i.b)("addon",s);return l.a.createElement("div",{className:Object(i.a)(a,Object(i.b)(t,a))},e)},a.state={value:t.defaultValue||""},a}return r.b(t,e),t.getDerivedStateFromProps=function(e,t){return void 0!==e.value&&e.value!==t.value?Object.assign({},t,{value:e.value}):t},t.prototype.render=function(){var e,t,a=this.props,r=a.prefix,n=a.suffix,o=a.addonBefore,c=a.addonAfter,d=a.allowClear,f=a.size;if(r||n||o||c||d){var p=Object(i.b)("wrapper",s),h=Object(i.b)("inner",s);return l.a.createElement("div",{className:Object(i.a)(p,p+"-"+f,(e={},e[""+Object(i.b)("has-addon",p)]=o||c,e[""+Object(i.b)("has-addon-before",p)]=o,e[""+Object(i.b)("has-addon-after",p)]=c,e))},o&&this.renderAddon(o,"before"),r||n||d?l.a.createElement("div",{className:Object(i.a)(h,(t={},t[""+Object(i.b)("has-prefix",h)]=r,t[""+Object(i.b)("has-suffix",h)]=n,t[""+Object(i.b)("has-clear",h)]=d,t))},this.renderInput(),r&&l.a.createElement("div",{className:Object(i.b)("prefix",s)},"string"==typeof r?l.a.createElement(u.a,{type:r}):r),n||d?l.a.createElement("div",{className:Object(i.b)("suffix",s)},n&&"string"==typeof n?l.a.createElement(u.a,{type:n}):n,d&&this.state.value&&l.a.createElement(u.a,{onClick:this.handleClear,className:Object(i.b)("clear",s),type:"x-circle"})):null):this.renderInput(),c&&this.renderAddon(c,"after"))}return this.renderInput()},t.defaultProps={size:"default",htmlType:"text"},t}(n.PureComponent),d=l.a.forwardRef(function(e,t){return l.a.createElement(c,r.a({},e,{forwardedRef:t}))}),f=Object(i.b)("input-number"),p=function(e){var t=e.defaultVisibled,a=void 0===t||t,o=e.className,s=e.forwardedRef,c=Object(n.useState)(a),p=c[0],h=c[1];return l.a.createElement(d,r.a({},e,{ref:s,className:Object(i.a)(f,o),htmlType:p?"text":"password",suffix:l.a.createElement(u.a,{className:Object(i.b)("toggle",f),type:p?"eye":"eye-off",onClick:function(){h(!p)}})}))};p.defaultProps={defaultVisibled:!0};var h=l.a.forwardRef(function(e,t){return l.a.createElement(p,r.a({},e,{forwardedRef:t}))}),m=Object(i.b)("input-search"),b=function(e){var t=e.className,a=e.onChange,o=e.onSearch,s=e.onPressEnter,c=e.defaultValue,f=e.forwardedRef,p=e.value,h=Object(n.useState)(c||""),b=h[0],v=h[1];return l.a.createElement(d,r.a({},e,{value:p||b,ref:f,className:Object(i.a)(m,t),onChange:function(e){v(e),a&&a(e)},onPressEnter:function(e){s&&s(e),o&&o(p||b)},suffix:l.a.createElement(u.a,{className:Object(i.b)("enter",m),type:"search",onClick:function(){o&&o(p||b)}})}))},v=l.a.forwardRef(function(e,t){return l.a.createElement(b,r.a({},e,{forwardedRef:t}))});var g=Object(i.b)("textarea"),w=function(e){function t(t){var a=e.call(this,t)||this;a.ref=l.a.createRef(),a.getRef=function(){return a.props.forwardedRef||a.ref},a.getComputedStyle=function(){var e=a.getRef();return e&&e.current&&window.getComputedStyle(e.current)||{}},a.handleChange=function(e){var t=a.props.onChange;a.setState({value:e.target.value},function(){t&&t(e.target.value)})},a.handleClear=function(e){var t=a.props.onChange;a.setState({value:""},function(){t&&t("")})},a.renderTextarea=function(){var e,t=a.props,r=t.id,n=t.name,o=t.className,u=t.disabled,s=t.limit,c=a.state,d=c.value,f=c.rowHeight,p=c.rowOuterHeight,h=c.minRow,m=c.maxRow,b=c.height;return l.a.createElement("textarea",{id:r,name:n,ref:a.getRef(),className:Object(i.a)(g,o,(e={},e[g+"-disabled"]=u,e[g+"-overflow"]=void 0!==s&&d.length>s,e)),value:d,style:{height:b,minHeight:h>0?h*f+p:"unset",maxHeight:m>0?m*f+p:"unset"},onChange:a.handleChange})},a.renderClear=function(){var e=a.props.allowClear,t=a.state.value;return e&&t.length>0?l.a.createElement("div",{className:Object(i.b)("clear",g)},l.a.createElement(u.a,{type:"x-circle",onClick:a.handleClear})):null},a.renderCounter=function(){var e=a.props,t=e.counter,r=e.limit,n=a.state.value,o=Object(i.b)("counter",g);if(void 0!==t){if("boolean"!=typeof t)return l.a.createElement("div",{className:o},t(n,r));if(t)return l.a.createElement("div",{className:o},l.a.createElement("span",null,n.length),void 0!==r&&r>=0&&[l.a.createElement("span",{key:o+"-sep"},"/"),l.a.createElement("span",{key:o+"-limit"},r)])}return null};var r=t.row,n=3,o=-1,s=-1;if(void 0!==r)if("number"==typeof r)n=r;else{var c=r,d=c.min,f=void 0===d?-1:d,p=c.max,h=void 0===p?-1:p;s=h>0?h:-1,n=o=f>0?f:-1,Object(i.c)(o<0,"Textarea","defaultRow has been set to be 1 because minRow without custom setting",function(){n=1}),Object(i.c)(s<o,"Textarea","maxRow should not be smaller than minRow",function(){s=o})}return a.state={value:t.defaultValue||"",row:n,minRow:o,maxRow:s,rowHeight:16.8,rowBorderHeight:2,rowPaddingHeight:12,rowOuterHeight:14,height:16.8*n+2+2},a}return r.b(t,e),t.prototype.componentDidMount=function(){var e=function(e){var t=e.paddingTop,a=void 0===t?"6px":t,r=e.paddingBottom,n=void 0===r?"6px":r,l=e.fontSize,o=void 0===l?"14px":l,i=e.lineHeight,u=void 0===i?"normal":i,s=e.borderTopWidth,c=void 0===s?"1px":s,d=e.borderBottomWidth,f=void 0===d?"1px":d,p=parseFloat(a||"6px"),h=parseFloat(n||"6px"),m=parseFloat(o||"14px"),b="normal"===u?1.2:parseFloat(u||"1.2"),v=parseFloat(c||"1px"),g=parseFloat(f||"1px"),w=(v>=0?v:1)+(g>=0?g:1),x=(p>=0?p:6)+(h>=0?h:6);return{rowHeight:m*(b>=0?b:1.2),rowBorderHeight:w,rowPaddingHeight:x,rowOuterHeight:w+x}}(this.getComputedStyle()),t=e.rowHeight,a=e.rowOuterHeight,r=e.rowBorderHeight,n=e.rowPaddingHeight;this.setState(function(e){var l=e.row;return{rowHeight:t,rowOuterHeight:a,rowBorderHeight:r,rowPaddingHeight:n,height:l*t+a}})},t.prototype.componentDidUpdate=function(){var e=this.state.height,t=this.getRef();if(t&&t.current){var a=t.current.scrollHeight;a>e&&this.setState(function(e){var t=e.rowHeight;return{height:a+3*t}})}},t.getDerivedStateFromProps=function(e,t){return void 0!==e.value&&e.value!==t.value?Object.assign({},t,{value:e.value}):t},t.prototype.render=function(){var e=this.props,t=e.allowClear,a=e.counter;return t||a?l.a.createElement("div",{className:Object(i.b)("wrapper",g)},l.a.createElement("div",{className:Object(i.b)("inner",g)},this.renderTextarea(),this.renderCounter(),this.renderClear())):this.renderTextarea()},t}(n.PureComponent),x=l.a.forwardRef(function(e,t){return l.a.createElement(w,r.a({},e,{forwardedRef:t}))}),y=d,O=a(76),R=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.inputRef=l.a.createRef(),t.searchRef=l.a.createRef(),t.passwordRef=l.a.createRef(),t.textareaRef=l.a.createRef(),t}return r.b(t,e),t.prototype.componentDidMount=function(){this.inputRef.current&&console.log(this.inputRef.current.value)},t.prototype.render=function(){return l.a.createElement(o.a,{component:[y,h,v,x],componentName:["Input","Password","Search","Textarea"],componentProps:[{ref:this.inputRef},{ref:this.passwordRef},{ref:this.searchRef,onSearch:function(e){alert("Search: "+e)}},{ref:this.textareaRef,row:{max:12,min:1}}],componentTestProps:[{defaultValue:{type:"input",value:"Hello World!",label:"默认值"},disabled:{type:"switch",value:!1,label:"是否禁用"},size:{type:"radio",value:"default",label:"大小",options:[{label:"default",value:"default"},{label:"large",value:"large"},{label:"small",value:"small"}]},htmlType:{type:"radio",value:"text",label:"HTML类型",options:[{label:"text",value:"text"},{label:"number",value:"number"},{label:"password",value:"password"}]},prefix:{type:"input",label:"前缀图标",value:"user"},suffix:{type:"input",label:"后缀图标",value:"info"},allowClear:{type:"switch",value:!0,label:"允许清除"}},{defaultValue:{type:"input",value:"Hello World!",label:"默认值"},defaultVisibled:{type:"switch",value:!0,label:"是否默认可见"}},{defaultValue:{type:"input",value:"Hello World!",label:"默认值"}},{defaultValue:{type:"input",value:"Hello World!",label:"默认值"},counter:{type:"switch",value:!0,label:"计数器"},limit:{type:"inputNumber",value:100,label:"长度限制"},allowClear:{type:"switch",value:!0,label:"允许清除"}}],componentPackageJson:O},l.a.createElement(y,{defaultValue:"Yeah!",addonBefore:l.a.createElement("div",null,"Before"),addonAfter:l.a.createElement("div",null,"After"),size:"large"}))},t}(l.a.PureComponent);t.default=R}}]);